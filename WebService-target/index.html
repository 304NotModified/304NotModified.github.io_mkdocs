<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>WebService target - NLog Docs</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
	
	<script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../AsyncWrapper-target/">NLog Docs</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">targets <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../AsyncWrapper-target/">AsyncWrapper target</a>
</li>
                            
<li >
    <a href="../AutoFlushWrapper-target/">AutoFlushWrapper target</a>
</li>
                            
<li >
    <a href="../BufferingWrapper-target/">BufferingWrapper target</a>
</li>
                            
<li >
    <a href="../Chainsaw-target/">Chainsaw target</a>
</li>
                            
<li >
    <a href="../ColoredConsole-target/">ColoredConsole target</a>
</li>
                            
<li >
    <a href="../Console-target/">Console target</a>
</li>
                            
<li >
    <a href="../Database-target/">Database target</a>
</li>
                            
<li >
    <a href="../Debug-target/">Debug target</a>
</li>
                            
<li >
    <a href="../Debugger-target/">Debugger target</a>
</li>
                            
<li >
    <a href="../Elmah-target/">Elmah target</a>
</li>
                            
<li >
    <a href="../Eventlog-target/">Eventlog target</a>
</li>
                            
<li >
    <a href="../FallbackGroup-target/">FallbackGroup target</a>
</li>
                            
<li >
    <a href="../File-target/">File target</a>
</li>
                            
<li >
    <a href="../FilteringWrapper-target/">FilteringWrapper target</a>
</li>
                            
<li >
    <a href="../FormControl-target/">FormControl target</a>
</li>
                            
<li >
    <a href="../ImpersonatingWrapper-target/">ImpersonatingWrapper target</a>
</li>
                            
<li >
    <a href="../Installing-targets/">Installing targets</a>
</li>
                            
<li >
    <a href="../LimitingWrapper-target/">LimitingWrapper target</a>
</li>
                            
<li >
    <a href="../LogReceiverService-target/">LogReceiverService target</a>
</li>
                            
<li >
    <a href="../Mail-target/">Mail target</a>
</li>
                            
<li >
    <a href="../Memory-target/">Memory target</a>
</li>
                            
<li >
    <a href="../MessageBox-target/">MessageBox target</a>
</li>
                            
<li >
    <a href="../MethodCall-target/">MethodCall target</a>
</li>
                            
<li >
    <a href="../MSMQ-target/">MSMQ target</a>
</li>
                            
<li >
    <a href="../Network-target/">Network target</a>
</li>
                            
<li >
    <a href="../NLogViewer-target/">NLogViewer target</a>
</li>
                            
<li >
    <a href="../Null-target/">Null target</a>
</li>
                            
<li >
    <a href="../OutputDebugString-target/">OutputDebugString target</a>
</li>
                            
<li >
    <a href="../PerfCounter-target/">PerfCounter target</a>
</li>
                            
<li >
    <a href="../PostFilteringWrapper-target/">PostFilteringWrapper target</a>
</li>
                            
<li >
    <a href="../RandomizeGroup-target/">RandomizeGroup target</a>
</li>
                            
<li >
    <a href="../RepeatingWrapper-target/">RepeatingWrapper target</a>
</li>
                            
<li >
    <a href="../RetryingWrapper-target/">RetryingWrapper target</a>
</li>
                            
<li >
    <a href="../RichTextBox-target/">RichTextBox target</a>
</li>
                            
<li >
    <a href="../RoundRobinGroup-target/">RoundRobinGroup target</a>
</li>
                            
<li >
    <a href="../SplitGroup-target/">SplitGroup target</a>
</li>
                            
<li >
    <a href="../Trace-target/">Trace target</a>
</li>
                            
<li class="active">
    <a href="./">WebService target</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">renderers <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../Basedir-layout-renderer/">Basedir layout renderer</a>
</li>
                            
<li >
    <a href="../Callsite-layout-renderer/">Callsite layout renderer</a>
</li>
                            
<li >
    <a href="../Callsite-line-number-layout-renderer/">Callsite line number layout renderer</a>
</li>
                            
<li >
    <a href="../Counter-layout-renderer/">Counter layout renderer</a>
</li>
                            
<li >
    <a href="../Date-layout-renderer/">Date layout renderer</a>
</li>
                            
<li >
    <a href="../DocumentUri-layout-renderer/">DocumentUri layout renderer</a>
</li>
                            
<li >
    <a href="../Environment-layout-renderer/">Environment layout renderer</a>
</li>
                            
<li >
    <a href="../Exception-layout-renderer/">Exception layout renderer</a>
</li>
                            
<li >
    <a href="../FileContents-layout-renderer/">FileContents layout renderer</a>
</li>
                            
<li >
    <a href="../Gc-layout-renderer/">Gc layout renderer</a>
</li>
                            
<li >
    <a href="../Gdc-layout-renderer/">Gdc layout renderer</a>
</li>
                            
<li >
    <a href="../Guid-layout-renderer/">Guid layout renderer</a>
</li>
                            
<li >
    <a href="../Identity-layout-renderer/">Identity layout renderer</a>
</li>
                            
<li >
    <a href="../InstallContext-layout-renderer/">InstallContext layout renderer</a>
</li>
                            
<li >
    <a href="../Level-layout-renderer/">Level layout renderer</a>
</li>
                            
<li >
    <a href="../WrapLine-layout-renderer/">WrapLine layout renderer</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">NLog.Web <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../AspApplication-layout-renderer/">AspApplication layout renderer</a>
</li>
                            
<li >
    <a href="../AspNetApplication-layout-renderer/">AspNetApplication layout renderer</a>
</li>
                            
<li >
    <a href="../AspNetItem-layout-renderer/">AspNetItem layout renderer</a>
</li>
                            
<li >
    <a href="../AspNetRequest-layout-renderer/">AspNetRequest layout renderer</a>
</li>
                            
<li >
    <a href="../AspNetSession-layout-renderer/">AspNetSession layout renderer</a>
</li>
                            
<li >
    <a href="../AspNetSessionId-layout-renderer/">AspNetSessionId layout renderer</a>
</li>
                            
<li >
    <a href="../AspNetUserAuthType-layout-renderer/">AspNetUserAuthType layout renderer</a>
</li>
                            
<li >
    <a href="../AspNetUserIdentity-layout-renderer/">AspNetUserIdentity layout renderer</a>
</li>
                            
<li >
    <a href="../AspRequest-layout-renderer/">AspRequest layout renderer</a>
</li>
                            
<li >
    <a href="../AspSession-layout-renderer/">AspSession layout renderer</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Extending <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../How-to-write-a-custom-target/">How to write a custom target</a>
</li>
                            
<li >
    <a href="../How-to-write-a-custom-layout-renderer/">How to write a custom layout renderer</a>
</li>
                        </ul>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../Trace-target/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../Basedir-layout-renderer/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#configuration-syntax">Configuration Syntax</a></li>
        <li class="main "><a href="#parameters">Parameters</a></li>
            <li><a href="#general-options">General Options</a></li>
            <li><a href="#parameter-options">Parameter Options</a></li>
            <li><a href="#web-service-options">Web Service Options</a></li>
        <li class="main "><a href="#remarks">Remarks</a></li>
        <li class="main "><a href="#example">Example</a></li>
            <li><a href="#example-config">Example config:</a></li>
            <li><a href="#example-api-controller">Example API controller</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<p>Calls the specified web service on each log message. </p>
<p>Supported in .NET, Silverlight, Compact Framework and Mono.</p>
<h2 id="configuration-syntax">Configuration Syntax</h2>
<pre><code class="xml">&lt;targets&gt;
  &lt;target xsi:type=&quot;WebService&quot;
          name=&quot;String&quot;
          url=&quot;System.Uri&quot;
          encoding=&quot;Encoding&quot;
          includeBOM=&quot;Nullable boolean&quot;
          protocol=&quot;Enum&quot;
          namespace=&quot;String&quot;
          methodName=&quot;String&quot;&gt;
    &lt;parameter layout=&quot;Layout&quot; name=&quot;String&quot; type=&quot;System.Type&quot;/&gt;&lt;!-- repeated --&gt;
  &lt;/target&gt;
&lt;/targets&gt;
</code></pre>

<h2 id="parameters">Parameters</h2>
<h3 id="general-options">General Options</h3>
<ul>
<li><strong>name</strong> - Name of the target.</li>
</ul>
<h3 id="parameter-options">Parameter Options</h3>
<ul>
<li><strong>parameters</strong> - The array of parameters to be passed. Collection<br />
Each collection item is represented by <code>&lt;parameter /&gt;</code> element with the following attributes:  </li>
<li><strong>layout</strong> - Layout that should be use to calculate the value for the parameter. Layout Required.</li>
<li><strong>name</strong> - Name of the parameter.</li>
<li><strong>type</strong> - Type of the parameter. System.Type</li>
</ul>
<h3 id="web-service-options">Web Service Options</h3>
<ul>
<li>
<p><strong>url</strong> - Web service URL. System.Uri</p>
</li>
<li>
<p><strong>encoding</strong> - Encoding. Encoding name like "utf-8", "ascii" or "utf-16". See <a href="http://msdn.microsoft.com/en-us/library/system.text.encoding%28v=vs.110%29.aspx">Encoding class on MSDN</a></p>
</li>
<li>
<p><strong>includeBOM</strong> - Skip or add Byte-order-mark (BOM) for UTF-8. Only used if encoding is set to UTF-8, because a BOM is optional in UTF-8.  default: <code>false</code>. For more info on BOM, check <a href="https://en.wikipedia.org/wiki/Byte_order_mark">Wikipedia</a>.
Possible options: </p>
</li>
<li><code>null</code>: doesn’t change BOM. </li>
<li><code>true</code>: always include UTF-8 BOM UTF-8 encodings. </li>
<li>
<p><code>false</code>: default, always skip BOM on UTF-8 encodings.</p>
</li>
<li>
<p><strong>escapeDataRfc3986</strong> - NLog will by default encode parameters as UTF8 and escape special characters according to Rfc2396. To escape data according to standard Rc3986, set this option to 'true' (Available from NLog 4.4)</p>
</li>
<li>
<p><strong>escapeDataNLogLegacy</strong> - NLog will by default encode parameters as UTF8 and escape special characters according to Rfc2396. To escape data according to the old non-standard NLog style, set this option to 'true' (Available from NLog 4.4)</p>
</li>
<li>
<p><strong>protocol</strong> - Protocol to be used when calling web service. Default: Soap11<br />
Possible values:  </p>
</li>
<li>JsonPost - JSON POST  - introduced in NLog 4.4 - ContentType "application/json"</li>
<li>XmlPost - XML POST - introduced in NLog 4.4 -  ContentType "application/xml"</li>
<li>HttpGet - Use HTTP GET Protocol.</li>
<li>HttpPost - Use HTTP POST Protocol.  ContentType "application/x-www-form-urlencoded"</li>
<li>Soap11 - Use SOAP 1.1 Protocol.</li>
<li>
<p>Soap12 - Use SOAP 1.2 Protocol.</p>
</li>
<li>
<p><strong>namespace</strong> - Web service namespace.</p>
</li>
<li>
<p><strong>methodName</strong> - Web service method name.</p>
</li>
</ul>
<h2 id="remarks">Remarks</h2>
<p>The web service must implement a method that accepts a number of string parameters.</p>
<h2 id="example">Example</h2>
<h3 id="example-config">Example config:</h3>
<pre><code class="xml">&lt;nlog&gt;
    &lt;targets&gt;
        &lt;target type='WebService'
                name='ws'
                url='http://localhost:1234/logme'
                protocol='HttpPost'
                encoding='UTF-8'   &gt;
            &lt;parameter name='param1' type='System.String' layout='${message}'/&gt; 
            &lt;parameter name='param2' type='System.String' layout='${level}'/&gt;
        &lt;/target&gt;
    &lt;/targets&gt;
    &lt;rules&gt;
      &lt;logger name='*' writeTo='ws'&gt;&lt;/logger&gt;
    &lt;/rules&gt;
&lt;/nlog&gt;
</code></pre>

<h3 id="example-api-controller">Example API controller</h3>
<pre><code class="c#">
public class LogMeController : ApiController
{
    /// &lt;summary&gt;
    /// We need a complex type for modelbinding because 
    /// of content-type: &quot;application/x-www-form-urlencoded&quot; 
    /// in &lt;see cref=&quot;WebServiceTarget&quot;/&gt;
    /// &lt;/summary&gt;
    public class ComplexType
    {
        public string Param1 { get; set; }
        public string Param2 { get; set; }
    }

    /// &lt;summary&gt;
    /// Post
    /// &lt;/summary&gt;
    public void Post([FromBody] ComplexType complexType)
    {
        //do something
    }
}
</code></pre></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '..';</script>
        <script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script>
        <script src="../js/base.js"></script><div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
